<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/_settings.css">
    <link rel="stylesheet" type="text/css" href="css/foundation.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <title>Movies R We</title>
  </head>
  <body>

    <header class="row">
      <h1 class="logo large-3 medium-3 columns">Movies R We</h1>
      <ul class="menu large-4 medium-4 columns">
        <li><a id="show-movies-button">Movies</a></li>
        <li><a id="show-customers-button">Customers</a></li>
        <li><a id="show-rentals-button">Rentals</a></li>
      </ul>
      <ul id="search" class="menu align-right large-5 medium-5 columns">
        <li><img src="images/netflix_icon.png" alt="Netflix User Icon" /></li>
        <li><a id="search-button" ><img src="images/search_icon.png" alt="Search Icon Button"  /></a></li>
        <li><input type="text" name="search-term" placeholder="Movie Title" id="search-box" /></li>
      </ul>
    </header>
    <main class="row">
    </main>

    <!-- Templates -->

    <script id="movie-template" type="text/template">
      <img src=<%- image_url %> />
      <p><%- title %></p>
    </script>

    <script id="movie-info-template" type="text/template">
      <section id="alerts"></section>
      <img src=<%- image_url %> />
      <h3>Title: <%- title %></h3>
      <h4>Overview: <%- overview %></h4>
      <h4>Release Date: <%- release_date %></h4>

      <section id="movie-actions">
        <% if (external_id) { %>
          <h4 class="button" id="add-movie">Add Movie</h4>
        <% } %>
      </section>
    </script>

    <script id="rent-movie-template" type="text/template">
      <h4>Select Customer</h4>
      <select id="customer-selector">
        <option disabled selected>
          -- select a customer --
        </option>
        <% customers.each(function(customer) { %>
          <option value="<%- customer.get('id') %>">
            <%- customer.get('name') %>
          </option>
        <% }); %>
      </select>
      <h4>Due Date</h4>
      <input id="due-date" type="date" />
      <h4 class="button" id="rent-movie">Rent</h4>
      <h4 class="button alert" id="delete-movie">Delete</h4>
    </script>

    <script id="customer-template" type="text/template">
      <h2><%- name %></h2>
    </script>

    <script id="customer-info-template" type="text/template">
      <h3>Name: <%- name %></h3>
      <h4>Customer since: <%- registered_at %></h4>
      <h4>Address: <%- address + " " + city + ",  " + state + " " + postal_code %></h4>
    </script>

    <script id="rentals-table-template" type="text/template">
      <aside class="small-2 large-2 columns">
        <h5>Rental Management</h5>
        <ul class="vertical menu">
          <li><a href="#" id="rental-log">Rental Log</a></li>
          <li><a href="#" id="overdue-rentals">Overdue Rentals</a></li>
          <li><a href="#" id="outstanding-rentals">Outstanding Rentals</a></li>
        </ul>
      </aside>

      <% if (rentals.length === 0) { %>
        <p>No Rental Data</p>
      <% } else { %>
        <table id="rentals-table" class="small-10 large-10 columns">
          <thead>
            <tr>
              <th>Check-Out Date</th>
              <th>Due Date</th>
              <th>Returned</th>
              <th>Customer Name</th>
              <th>Movie Title</th>
            </tr>
          </thead>
          <tbody>
            <% rentals.each(function (rental) { %>
              <tr>
                <td><%- rental.get('checkout_date') %></td>
                <td><%- rental.get('due_date') %></td>
                <td><%- rental.get('returned') %></td>
                <td><%- rental.get('customer').name %></td>
                <td><%- rental.get('movie').title %></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
      <% } %>
    </script>

    <script src="/app.bundle.js"></script>

  </body>
  </html>
